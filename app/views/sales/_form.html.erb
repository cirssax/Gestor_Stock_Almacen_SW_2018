<% if @venta.errors.any? %>
  <div id="error_explanation">
    <h2>
      <%= pluralize(@venta.errors.count, "error") %>
      No se pudo crear esta venta debido a:
    </h2>
    <ul>
      <% @venta.errors.full_messages.each do |msg| %>
        <li>
          <%= msg %>
        </li>
      <% end %>
    </ul>
  </div>
<% end %>

<%=form_for @venta do|f| %>
  <div>
    <label>Vendedor:  <%= current_user.nombre_trabajador%></label>
  </div>

  <div>
    <%= f.collection_select(:id_producto, Product.select("products.nombre_producto, products.stock, products.id").where("products.stock > ?", 0), :id, :nombre_producto, :prompt => 'Select') %>
    <%= f.select :cantidad, ((1..500).map {|i| [i,i] } << ["No limit",nil]) %>
  </div>
  <div>
    <%= f.submit %>
  </div>
<% end %>
